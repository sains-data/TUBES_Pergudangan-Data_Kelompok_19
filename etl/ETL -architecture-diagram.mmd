---
config:
  layout: elk
---
flowchart TB
 subgraph subGraph0["DATA SOURCES"]
        A1["CSV Files<br>Surat Data"]
        A2["Excel Files<br>Ruangan Data"]
        A3["Manual Entry<br>Pengadaan Data"]
  end
 subgraph subGraph1["STAGING AREA"]
        B1[("stg.Surat")]
        B2[("stg.Ruangan")]
        B3[("stg.Pengadaan")]
        B4[("stg.Unit")]
        B5[("stg.Status")]
  end
 subgraph subGraph2["ETL PROCESSES"]
        C1["Extract & Validate"]
        C2["Transform & Cleanse"]
        C3["Load to Warehouse"]
  end
 subgraph subGraph3["DATA WAREHOUSE"]
        D1[("Dim_Date")]
        D2[("Dim_Unit")]
        D3[("Dim_JenisSurat")]
        D4[("Dim_Ruangan")]
        D5[("Dim_Status")]
        D6[("Fact_Surat")]
        D7[("Fact_Peminjaman")]
  end
 subgraph subGraph4["BI LAYER"]
        E1["Power BI Desktop"]
        E2["Dashboard 1:<br>Executive Summary"]
        E3["Dashboard 2:<br>Operational Details"]
  end
    A1 --> C1
    A2 --> C1
    A3 --> C1
    C1 --> B1 & B2 & B3 & B4 & B5
    B1 --> C2
    B2 --> C2
    B3 --> C2
    B4 --> C2
    B5 --> C2
    C2 --> C3
    C3 --> D1 & D2 & D3 & D4 & D5 & D6 & D7
    D1 --> E1
    D2 --> E1
    D3 --> E1
    D4 --> E1
    D5 --> E1
    D6 --> E1
    D7 --> E1
    E1 --> E2 & E3
    style A1 fill:#e1f5ff
    style A2 fill:#e1f5ff
    style A3 fill:#e1f5ff
    style B1 fill:#fff4e6
    style B2 fill:#fff4e6
    style B3 fill:#fff4e6
    style B4 fill:#fff4e6
    style B5 fill:#fff4e6
    style C1 fill:#f3e5f5
    style C2 fill:#f3e5f5
    style C3 fill:#f3e5f5
    style D1 fill:#e8f5e9
    style D2 fill:#e8f5e9
    style D3 fill:#e8f5e9
    style D4 fill:#e8f5e9
    style D5 fill:#e8f5e9
    style D6 fill:#ffebee
    style D7 fill:#ffebee
    style E1 fill:#fce4ec
    style E2 fill:#fce4ec
    style E3 fill:#fce4ec
